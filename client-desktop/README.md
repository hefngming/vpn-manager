# ğŸ¦ å°é¾™è™¾VPN - æ¡Œé¢å®¢æˆ·ç«¯

åŸºäº Electron + Clash çš„æ¡Œé¢ VPN å®¢æˆ·ç«¯ï¼Œæ”¯æŒ Windowsã€macOS å’Œ Linuxã€‚

## âœ¨ åŠŸèƒ½ç‰¹æ€§

- ğŸ” **é›¶é…ç½®** - ç™»å½•å³ç”¨ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®èŠ‚ç‚¹
- âš¡ **ä¸€é”®è¿æ¥** - é€‰æ‹©èŠ‚ç‚¹ï¼Œç‚¹å‡»è¿æ¥
- ğŸ–¥ï¸ **ç³»ç»Ÿé›†æˆ** - è‡ªåŠ¨è®¾ç½®ç³»ç»Ÿä»£ç† (Windows/macOS)
- ğŸ”” **æ‰˜ç›˜å›¾æ ‡** - æœ€å°åŒ–åˆ°ç³»ç»Ÿæ‰˜ç›˜ï¼Œå¿«é€Ÿæ“ä½œ
- ğŸ“Š **æµé‡ç»Ÿè®¡** - å®æ—¶æ˜¾ç¤ºæµé‡ä½¿ç”¨æƒ…å†µ
- ğŸ”§ **å¤šåè®®æ”¯æŒ** - Shadowsocks/VMess/Trojan (é€šè¿‡ Clash)

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚
- Node.js 18+
- npm æˆ– yarn
- Clash æ ¸å¿ƒ (è§ä¸‹æ–¹ä¸‹è½½æ­¥éª¤)

### 1. ä¸‹è½½ Clash æ ¸å¿ƒ

```bash
cd client-desktop

# ä¸‹è½½æ‰€æœ‰å¹³å°çš„ Clash
bash scripts/download-clash.sh all

# æˆ–åªä¸‹è½½ç‰¹å®šå¹³å°
bash scripts/download-clash.sh windows
bash scripts/download-clash.sh macos
bash scripts/download-clash.sh linux
```

æˆ–è€…æ‰‹åŠ¨ä¸‹è½½ï¼š
1. è®¿é—® https://github.com/Dreamacro/clash/releases
2. ä¸‹è½½å¯¹åº”å¹³å°çš„äºŒè¿›åˆ¶æ–‡ä»¶
3. è§£å‹åˆ° `client-desktop/bin/[platform]/` ç›®å½•

### 2. å®‰è£…ä¾èµ–

```bash
npm install
```

### 3. å¼€å‘æ¨¡å¼

```bash
# 1. å…ˆå¯åŠ¨åç«¯æœåŠ¡
cd ../backend && npm run dev

# 2. å¯åŠ¨æ¡Œé¢å®¢æˆ·ç«¯ï¼ˆæ–°ç»ˆç«¯ï¼‰
cd client-desktop
npm run dev
```

### 4. æ„å»ºå‘è¡Œç‰ˆ

```bash
# æ„å»ºå½“å‰å¹³å°
npm run build

# æˆ–æŒ‡å®šå¹³å°
npm run build:win
npm run build:mac
npm run build:linux
```

æ„å»ºåçš„æ–‡ä»¶åœ¨ `release/` ç›®å½•ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
client-desktop/
â”œâ”€â”€ bin/                          # Clash äºŒè¿›åˆ¶æ–‡ä»¶
â”‚   â”œâ”€â”€ windows/clash.exe
â”‚   â”œâ”€â”€ macos/clash
â”‚   â””â”€â”€ linux/clash
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ main.ts                   # Electron ä¸»è¿›ç¨‹
â”‚   â”œâ”€â”€ clash-service.ts          # Clash VPN æœåŠ¡ â­
â”‚   â”œâ”€â”€ vpn-service.ts            # å¤‡é€‰ VPN æœåŠ¡
â”‚   â”œâ”€â”€ preload.ts                # é¢„åŠ è½½è„šæœ¬
â”‚   â””â”€â”€ renderer/                 # React UI
â”‚       â”œâ”€â”€ App.tsx
â”‚       â”œâ”€â”€ index.css
â”‚       â””â”€â”€ index.html
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ download-clash.sh         # ä¸‹è½½è„šæœ¬
â”œâ”€â”€ assets/                       # å›¾æ ‡ç­‰èµ„æº
â””â”€â”€ package.json
```

## ğŸ”Œ å·¥ä½œåŸç†

```
ç”¨æˆ·ç‚¹å‡»è¿æ¥
    â†“
Electron ä¸»è¿›ç¨‹
    â†“
ç”Ÿæˆ Clash é…ç½® â†’ å¯åŠ¨ Clash è¿›ç¨‹ (æœ¬åœ° SOCKS5:7890)
    â†“
è®¾ç½®ç³»ç»Ÿä»£ç† â†’ 127.0.0.1:7890
    â†“
ç³»ç»Ÿæµé‡ â†’ Clash â†’ è¿œç¨‹æœåŠ¡å™¨
```

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

- **Electron** - æ¡Œé¢åº”ç”¨æ¡†æ¶
- **Clash** - VPN æ ¸å¿ƒ (Dreamacro/clash)
- **React + TypeScript** - UI å¼€å‘
- **Node.js** - ç³»ç»Ÿä»£ç†è®¾ç½®

## ğŸ“‹ æ”¯æŒçš„åè®®

é€šè¿‡ Clash æ ¸å¿ƒæ”¯æŒï¼š

| åè®® | æ”¯æŒ |
|------|------|
| Shadowsocks | âœ… |
| VMess (V2Ray) | âœ… |
| Trojan | âœ… |
| VLESS | âœ… |
| SOCKS5 | âœ… |
| HTTP | âœ… |

## ğŸ”§ å¼€å‘è®¡åˆ’

### Phase 1: åŸºç¡€æ¡†æ¶ âœ…
- [x] Electron é¡¹ç›®æ­å»º
- [x] åŸºç¡€ UI ç•Œé¢
- [x] ç³»ç»Ÿæ‰˜ç›˜
- [x] çª—å£æ§åˆ¶

### Phase 2: VPN æ ¸å¿ƒ âœ…
- [x] é›†æˆ Clash æ ¸å¿ƒ
- [x] ç³»ç»Ÿä»£ç†è®¾ç½®
- [x] è¿æ¥çŠ¶æ€ç®¡ç†
- [x] æµé‡ç»Ÿè®¡

### Phase 3: é«˜çº§åŠŸèƒ½
- [ ] è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜èŠ‚ç‚¹
- [ ] è¿æ¥æ–­å¼€é‡è¿
- [ ] å¿«æ·é”®æ”¯æŒ
- [ ] é€šçŸ¥æé†’
- [ ] å¼€æœºè‡ªå¯
- [ ] Kill Switch
- [ ] åˆ†åº”ç”¨ä»£ç†

## ğŸ› æ•…éšœæ’é™¤

### Clash æ— æ³•å¯åŠ¨
1. æ£€æŸ¥ `bin/[platform]/clash` æ–‡ä»¶æ˜¯å¦å­˜åœ¨
2. æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æœ‰æ‰§è¡Œæƒé™ (macOS/Linux: `chmod +x bin/macos/clash`)
3. æŸ¥çœ‹æ§åˆ¶å°è¾“å‡ºè·å–è¯¦ç»†é”™è¯¯

### ç³»ç»Ÿä»£ç†è®¾ç½®å¤±è´¥
- **Windows**: éœ€è¦ç®¡ç†å‘˜æƒé™è¿è¡Œ
- **macOS**: å¯èƒ½éœ€è¦è¾“å…¥ç®¡ç†å‘˜å¯†ç 
- **Linux**: ç›®å‰éœ€è¦æ‰‹åŠ¨è®¾ç½®ï¼Œæˆ–ä½¿ç”¨ç³»ç»Ÿè®¾ç½®

### æ— æ³•è¿æ¥
1. æ£€æŸ¥åç«¯æœåŠ¡æ˜¯å¦è¿è¡Œ
2. æ£€æŸ¥èŠ‚ç‚¹é…ç½®æ˜¯å¦æ­£ç¡®
3. æŸ¥çœ‹ Clash æ—¥å¿— (æ§åˆ¶å°è¾“å‡º)

## ğŸ“„ è®¸å¯è¯

MIT

---

**Clash é¡¹ç›®**: https://github.com/Dreamacro/clash
